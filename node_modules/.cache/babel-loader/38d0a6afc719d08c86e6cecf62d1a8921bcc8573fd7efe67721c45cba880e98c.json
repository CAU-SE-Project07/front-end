{"ast":null,"code":"import React,{useState,useEffect}from'react';import api from'../api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MyIssues=()=>{const[currentPage,setCurrentPage]=useState(1);const itemsPerPage=5;const[issues,setIssues]=useState([]);useEffect(()=>{const fetchIssues=async()=>{try{const user=JSON.parse(localStorage.getItem('user'));const response=await api.get(\"/issue/title/\".concat(user.userId,\"/ASSIGNED\"));setIssues(response.data.list||[]);}catch(error){console.error('Error fetching issues:',error);setIssues([]);// 빈 배열로 초기화하여 에러를 방지\n}};fetchIssues();},[]);const indexOfLastItem=currentPage*itemsPerPage;const indexOfFirstItem=indexOfLastItem-itemsPerPage;const currentIssues=issues.slice(indexOfFirstItem,indexOfLastItem);const pageNumbers=[];for(let i=1;i<=Math.ceil(issues.length/itemsPerPage);i++){pageNumbers.push(i);}const handlePageClick=pageNumber=>{setCurrentPage(pageNumber);};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-bold mb-6\",children:\"My Issues\"}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full bg-white\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-200\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"py-2 px-4 border-b\",children:\"# Issue num.\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-2 px-4 border-b\",children:\"Title\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-2 px-4 border-b\",children:\"Reported Date\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-2 px-4 border-b\",children:\"Assignee\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-2 px-4 border-b\",children:\"Status\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:currentIssues.map((issue,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"py-2 px-4 border-b\",children:issue.issueId}),/*#__PURE__*/_jsx(\"td\",{className:\"py-2 px-4 border-b\",children:issue.title}),/*#__PURE__*/_jsx(\"td\",{className:\"py-2 px-4 border-b\",children:issue.date}),/*#__PURE__*/_jsx(\"td\",{className:\"py-2 px-4 border-b\",children:issue.assignee}),/*#__PURE__*/_jsx(\"td\",{className:\"py-2 px-4 border-b\",children:/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 text-xs font-semibold text-purple-800 bg-purple-200 rounded\",children:issue.state})})]},index))})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center mt-4\",children:pageNumbers.map(pageNumber=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>handlePageClick(pageNumber),className:\"px-3 py-2 mx-1 border rounded cursor-pointer \".concat(currentPage===pageNumber?'bg-blue-500 text-white':''),children:pageNumber},pageNumber))})]});};export default MyIssues;","map":{"version":3,"names":["React","useState","useEffect","api","jsx","_jsx","jsxs","_jsxs","MyIssues","currentPage","setCurrentPage","itemsPerPage","issues","setIssues","fetchIssues","user","JSON","parse","localStorage","getItem","response","get","concat","userId","data","list","error","console","indexOfLastItem","indexOfFirstItem","currentIssues","slice","pageNumbers","i","Math","ceil","length","push","handlePageClick","pageNumber","className","children","map","issue","index","issueId","title","date","assignee","state","onClick"],"sources":["/Users/2unnhi/Desktop/프로젝트/se-project07-front/src/pages/MyIssues.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport api from '../api';\n\nconst MyIssues = () => {\n  const [currentPage, setCurrentPage] = useState(1);\n  const itemsPerPage = 5;\n  const [issues, setIssues] = useState([]);\n\n  useEffect(() => {\n    const fetchIssues = async () => {\n      try {\n        const user = JSON.parse(localStorage.getItem('user'));\n        const response = await api.get(`/issue/title/${user.userId}/ASSIGNED`);\n        setIssues(response.data.list || []);\n      } catch (error) {\n        console.error('Error fetching issues:', error);\n        setIssues([]); // 빈 배열로 초기화하여 에러를 방지\n      }\n    };\n\n    fetchIssues();\n  }, []);\n\n  const indexOfLastItem = currentPage * itemsPerPage;\n  const indexOfFirstItem = indexOfLastItem - itemsPerPage;\n  const currentIssues = issues.slice(indexOfFirstItem, indexOfLastItem);\n\n  const pageNumbers = [];\n  for (let i = 1; i <= Math.ceil(issues.length / itemsPerPage); i++) {\n    pageNumbers.push(i);\n  }\n\n  const handlePageClick = (pageNumber) => {\n    setCurrentPage(pageNumber);\n  };\n\n  return (\n    <div className=\"p-8\">\n      <h1 className=\"text-xl font-bold mb-6\">My Issues</h1>\n      <div className=\"overflow-x-auto\">\n        <table className=\"min-w-full bg-white\">\n          <thead className=\"bg-gray-200\">\n            <tr>\n              <th className=\"py-2 px-4 border-b\"># Issue num.</th>\n              <th className=\"py-2 px-4 border-b\">Title</th>\n              <th className=\"py-2 px-4 border-b\">Reported Date</th>\n              <th className=\"py-2 px-4 border-b\">Assignee</th>\n              <th className=\"py-2 px-4 border-b\">Status</th>\n            </tr>\n          </thead>\n          <tbody>\n            {currentIssues.map((issue, index) => (\n              <tr key={index}>\n                <td className=\"py-2 px-4 border-b\">{issue.issueId}</td>\n                <td className=\"py-2 px-4 border-b\">{issue.title}</td>\n                <td className=\"py-2 px-4 border-b\">{issue.date}</td>\n                <td className=\"py-2 px-4 border-b\">{issue.assignee}</td>\n                <td className=\"py-2 px-4 border-b\">\n                  <span className=\"px-2 py-1 text-xs font-semibold text-purple-800 bg-purple-200 rounded\">\n                    {issue.state}\n                  </span>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n      <div className=\"flex justify-center mt-4\">\n        {pageNumbers.map((pageNumber) => (\n          <button\n            key={pageNumber}\n            onClick={() => handlePageClick(pageNumber)}\n            className={`px-3 py-2 mx-1 border rounded cursor-pointer ${currentPage === pageNumber ? 'bg-blue-500 text-white' : ''}`}\n          >\n            {pageNumber}\n          </button>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default MyIssues;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}